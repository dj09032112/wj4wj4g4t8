<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- 基礎 SEO -->
    <title>視差兔兔 - Parallax Rabbit | dj0903</title>
    <meta name="description" content="沉浸式互動網頁體驗 - Immersive Interactive Web Experience">
    <meta name="keywords" content="視差效果,互動網頁,parallax,interactive,web,dj0903">
    <meta name="author" content="dj0903">
    
    <!-- Open Graph -->
    <meta property="og:title" content="視差兔兔 - Parallax Rabbit | dj0903">
    <meta property="og:description" content="沉浸式互動網頁體驗 - Immersive Interactive Web Experience">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dj0903-parallax-rabbit.vercel.app/">
    <meta property="og:image" content="https://dj0903-parallax-rabbit.vercel.app/images/1_0_All.png">
    <meta property="og:site_name" content="視差兔兔 - Parallax Rabbit">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="視差兔兔 - Parallax Rabbit | dj0903">
    <meta name="twitter:description" content="沉浸式互動網頁體驗 - Immersive Interactive Web Experience">
    <meta name="twitter:image" content="https://dj0903-parallax-rabbit.vercel.app/images/1_0_All.png">
    
    <!-- 多語言支援 -->
    <link rel="alternate" hreflang="zh" href="https://dj0903-parallax-rabbit.vercel.app/zh/">
    <link rel="alternate" hreflang="en" href="https://dj0903-parallax-rabbit.vercel.app/en/">
    <link rel="alternate" hreflang="ja" href="https://dj0903-parallax-rabbit.vercel.app/ja/">
    <link rel="alternate" hreflang="x-default" href="https://dj0903-parallax-rabbit.vercel.app/en/">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/icon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="images/icon/favicon.svg" />
    <link rel="shortcut icon" href="images/icon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="images/icon/apple-touch-icon.png" />
    <link rel="manifest" href="images/icon/site.webmanifest" />
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #000000;
            height: 100vh;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <script>
        // 隱藏式語言檢測和自動跳轉
        function detectAndRedirect() {
            // 檢查 URL 是否已經包含語言路徑
            const currentPath = window.location.pathname;
            if (currentPath.match(/^\/(zh|en|ja)\//)) {
                return; // 已經在語言頁面，不需要跳轉
            }
            
            let targetLanguage = 'en'; // 預設英文（檢測不到時的默認值）
            
            // 1. 檢查 localStorage 儲存的語言偏好
            const savedLanguage = localStorage.getItem('preferred_language');
            if (savedLanguage && ['zh', 'en', 'ja'].includes(savedLanguage)) {
                targetLanguage = savedLanguage;
            } else {
                // 2. 檢測瀏覽器語言
                const browserLanguages = navigator.languages || [navigator.language];
                
                for (const lang of browserLanguages) {
                    const langCode = lang.toLowerCase();
                    
                    if (langCode.startsWith('zh')) {
                        targetLanguage = 'zh';
                        break;
                    } else if (langCode.startsWith('ja')) {
                        targetLanguage = 'ja';
                        break;
                    } else if (langCode.startsWith('en')) {
                        targetLanguage = 'en';
                        break;
                    }
                }
                
                // 儲存檢測到的語言偏好
                localStorage.setItem('preferred_language', targetLanguage);
            }
            
            // 立即跳轉到對應語言頁面
            redirectToLanguage(targetLanguage);
        }
        
        function redirectToLanguage(language) {
            const languageMap = {
                'zh': '/zh/',
                'en': '/en/',
                'ja': '/ja/'
            };
            
            const targetUrl = languageMap[language] || '/en/';
            
            // 使用 replace 避免在瀏覽器歷史中留下跳轉頁面
            window.location.replace(targetUrl);
        }
        
        // 立即執行檢測，不等待頁面完全載入
        detectAndRedirect();
    </script>
</body>
</html> 